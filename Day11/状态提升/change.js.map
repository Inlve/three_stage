{"version":3,"sources":["change.jsx"],"names":["BoilingVerdict","props","celsius","React","Component","TemperatureInput","handleChange","bind","e","onTemperatureChange","target","value","scale","temperature","toCelsius","fahrenheit","toFahrenheit","tryConvert","convert","input","parseFloat","Number","isNaN","output","rounded","Math","round","toString","Calculator","state","handleCelsiusChange","handleFahrenheitChange","setState","ReactDOM","render","document","getElementById"],"mappings":"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","sourcesContent":["class BoilingVerdict extends React.Component {\r\n    render () {\r\n        if (this.props.celsius >= 100) {\r\n            return (\r\n                <p>水会沸腾</p>\r\n            );\r\n        } else {\r\n            return (\r\n                <p>水不会沸腾</p>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nclass TemperatureInput extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    handleChange (e) {\r\n        // this.setState({\r\n        //     temperature: e.target.value\r\n        // })\r\n        // 现在需要更新temperature需要来自父组件的onTemperatureChange来更新\r\n        this.props.onTemperatureChange(e.target.value);\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <fieldset>\r\n                <legend>\r\n                    输入温度(单位:{this.props.scale})\r\n                </legend>\r\n                <input type = \"text\"\r\n                       value = {this.props.temperature}\r\n                       onChange = {this.handleChange} />\r\n            </fieldset>\r\n        )\r\n    }\r\n}\r\nfunction toCelsius(fahrenheit) {\r\n    return (fahrenheit - 32) * 5 / 9;\r\n}\r\n\r\nfunction toFahrenheit(celsius) {\r\n    return (celsius * 9 / 5) + 32;\r\n}\r\nfunction tryConvert(temperature, convert) {\r\n    const input = parseFloat(temperature);\r\n    if (Number.isNaN(input)) {\r\n        return '';\r\n    }\r\n    const output = convert(input);\r\n    const rounded = Math.round(output * 1000) / 1000;\r\n    return rounded.toString();\r\n}\r\nclass Calculator extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            temperature: ''\r\n        };\r\n        this.handleCelsiusChange = this.handleCelsiusChange.bind(this);\r\n        this.handleFahrenheitChange = this.handleFahrenheitChange.bind(this);\r\n    }\r\n\r\n    handleCelsiusChange (temperature) {\r\n        this.setState({scale: 'c', temperature});\r\n    }\r\n\r\n    handleFahrenheitChange (temperature) {\r\n        this.setState({scale: 'f', temperature});\r\n    }\r\n\r\n    render () {\r\n        const scale = this.state.scale;\r\n        const temperature = this.state.temperature;\r\n        const celsius = scale === 'f' ? tryConvert(temperature, toCelsius) : temperature;\r\n        const fahrenheit = scale === 'c' ? tryConvert(temperature, toFahrenheit) : temperature;\r\n        return (\r\n            <div>\r\n                {/*\r\n                 如果希望输入温度时,另一个也会保持同步,\r\n                 这就需要状态提升\r\n                 状态提升,就是将多个组件中需要的state向上移动到她们最近的共同父组件中,\r\n                 便可以实现共享state\r\n                 */}\r\n                <TemperatureInput\r\n                    scale=\"c\"\r\n                    temperature={celsius}\r\n                    onTemperatureChange={this.handleCelsiusChange} />\r\n\r\n                <TemperatureInput\r\n                    scale=\"f\"\r\n                    temperature={fahrenheit}\r\n                    onTemperatureChange={this.handleFahrenheitChange} />\r\n\r\n                <BoilingVerdict\r\n                    celsius={parseFloat(celsius)} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nReactDOM.render(\r\n    <Calculator />,\r\n    document.getElementById('root')\r\n);"],"file":"change.js"}